# Agentic Guidelines

Instructions and context for AI coding agents working in this repository.

## Project Context

- Type: Single-page web application (React + Vite)
- Language: TypeScript
- Styling: Tailwind CSS (v4)
- State: Local React state (`useState`, `useReducer` for complex logic)
- Key directories:
  - `src/components`: UI components (visual only)
  - `src/hooks`: Game logic hooks
  - `src/types`: TypeScript interfaces and types
  - `src/utils`: Pure helper functions

## Build and Verification

Always verify changes before submitting.

- Dev server: `npm run dev`
- Build: `npm run build` (runs `tsc -b` then `vite build`)
- Lint: `npm run lint`
- Type check: `npx tsc --noEmit`

### Tests

- Framework: Vitest
- Run: `npm test`
- Requirement: New features and bug fixes must include tests
- Regression: Run the full suite before submitting

## Code Style and Conventions

### Imports

- Grouping order:
  1. React/external libraries
  2. Internal absolute/relative imports
  3. Styles (if not using Tailwind utility classes exclusively)
- Types: Always use `import type { Foo }` for interfaces and types

### TypeScript

- Strict mode enabled; no `any`
- Use `interface` for object shapes (props, state)
- Use `type` for unions or aliases
- Props should be defined with `interface ComponentProps { ... }`

### React

- Use functional components
- Extract complex game logic into hooks (e.g., `useSolitaire`)
- Avoid inline JSX functions if they cause performance issues

### Tailwind CSS

- Prefer utility classes in `className`
- Use the extended palette in `tailwind.config.js`
- Ensure layout holds on window resize

### Naming

- Files: PascalCase for components, camelCase for hooks/utils
- Variables: camelCase
- Constants: UPPER_CASE for static configuration
- Types: PascalCase

## Error Handling

- UI: Fail gracefully; show error boundary or reset option
- Logic: Return `false` or `null` for invalid moves; avoid throwing

## Solitaire Logic Rules

- Immutability: Use spread syntax or `structuredClone`
- Cards: `{ id, suit, rank, isFaceUp }`
- Validation: Keep move checks in `src/hooks` or `src/utils`

## Git and Commit Protocol

- Use Conventional Commits (e.g., `feat: add shuffle logic`)
- Do not force push

---
Generated by opencode
